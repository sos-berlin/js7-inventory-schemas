{
  "title": "Controller Item of a Deployment Descriptor",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "javaType": "com.sos.inventory.model.descriptor.controller.ControllerDescriptor",
  "description": "JS7 Controller Descriptor Schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "instanceType": {
      "javaType": "com.sos.inventory.model.descriptor.controller.Instance",
      "type": "object",
      "required": [
        "media",
        "installation"
      ],
      "additionalProperties": false,
      "properties": {
        "target": {
          "type": "object",
          "javaType": "com.sos.inventory.model.descriptor.controller.Target",
          "required": [
            "connection",
            "authentication",
            "packageLocation"
          ],
          "additionalProperties": false,
          "properties": {
            "connection": {
              "$ref": "common/connection-schema.json"
            },
            "authentication": {
              "$ref": "common/authentication-schema.json"
            },
            "packageLocation": {
              "type": "string"
            },
            "execPre": {
              "type": "string"
            },
            "execPost": {
              "type": "string"
            },
            "makeService": {
              "type": "boolean"
            }
          }
        },
        "media": {
          "$ref": "common/media-schema.json"
        },
        "installation": {
          "$ref": "common/installation-schema.json"
        },
        "configuration": {
          "type": "object",
          "javaType": "com.sos.inventory.model.descriptor.controller.Configuration",
          "additionalProperties": false,
          "properties": {
            "certificates": {
              "$ref": "common/certificates-schema.json"
            },
            "controllerCert": {
              "type": "string"
            },
            "templates": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    }
  }
}